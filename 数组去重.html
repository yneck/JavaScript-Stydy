<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /*
    * 1、ES6  set去重
    * Array.from 从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。
    * */
    function unique(arr) {
        return Array.from(new Set(arr))
    }
    // [...new Set(arr)] 简化代码写法

    /*
    * 2.利用for循环嵌套for循环，使用slice删除
    * */
    function unique2(arr) {
        for (let i=0;i<arr.length;i++){
            for (let j=i+1;j<arr.length;j++){
                if (arr[i]=== arr[j]){
                    arr.splice(j,1)
                    j--;
                }
            }
        }
        return arr
    }
    /*
    * 3.利用indexOf
    * Array.isArray 判断数据类型是否为数组
    * */
    function unique3(arr){
        if (!Array.isArray(arr)){
            console.log('arr is not Array');
            return;
        }
        let newArr=[];
        for (let i=0;i<arr.length;i++){
            if (newArr.indexOf(arr[i])===-1){
                newArr.push(arr[i])
            }
        }
        return newArr;
    }
    /*
    * 4、利用sort排序后，比较相邻两个是否相同
    * */
    function unique4(){
        if (!Array.isArray(arr)){
            console.log('not Array');
            return;
        }
        arr=arr.sort()
        let  newArr=[arr[0]];
        for (let i=1;i<arr.length;i++){
            if (arr[i]!==arr[i-1]){
                newArr.push(arr[i])
            }
        }
        return newArr;
    }
    /*
    * 5、利用include
    * Array.includes用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回false。
    * */
    function unique5(arr){
        if (!Array.isArray(arr)){
            console.log('arr is not Array');
            return;
        }
        let newArr=[];
        for (let i=0;i<arr.length;i++){
            if (!newArr.includes(arr[i])){
                newArr.push(arr[i])
            }
        }
        return newArr;
    }
    /*
    * 6、利用filter
    * */
    function unique6(arr){
        let newArr=arr.filter((item,index,arr)=>{
            return arr.indexOf(item,0) === index;
        })
        return newArr;
    }
    /*
    * 7、利用递归去重
    * */
    function unique7(arr){
        if (!Array.isArray(arr)){
            console.log('arr is not Array');
            return;
        }
        let length=arr.length;
        arr.sort()
        function loop(index) {
            if (index<1){
                return
            }
            if (arr[index]===arr[index-1]){
                arr.splice(index,1)
            }
            loop(index-1)
        }
        loop(length-1)
        return arr;
    }
    /*
    * 8、
    * */


    let arr=[1,1,2,'true',true,3,2,{},{}]
    console.log(unique7(arr));
</script>
</body>
</html>
